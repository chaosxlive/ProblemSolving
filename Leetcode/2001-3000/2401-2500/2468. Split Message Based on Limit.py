# https://leetcode.com/problems/split-message-based-on-limit/

import math


class Solution:
    # def splitMessage(self, message: str, limit: int) -> List[str]:
    def splitMessage(self, message: str, limit: int):
        msgLength = len(message)

        def getRestSpaceInChunk(l):
            return limit - 3 - l * 2

        chunkCnt = 9
        chunkTextLen = 1
        restTotalSpace = [[getRestSpaceInChunk(chunkTextLen), chunkCnt]]

        def getTotalSpace():
            return sum(map(lambda x: x[0] * x[1], (space for space in restTotalSpace)))

        while getTotalSpace() < msgLength:
            for i in range(len(restTotalSpace)):
                restTotalSpace[i][0] -= 1
            if restTotalSpace[0][0] <= 0:
                return []
            chunkCnt *= 10
            chunkTextLen += 1
            restTotalSpace.append([getRestSpaceInChunk(chunkTextLen), chunkCnt])

        result = []
        charIdx = 0
        chunkGroupIdx = 0
        chunkCnt = 0
        while charIdx < msgLength:
            result.append(message[charIdx:charIdx + restTotalSpace[chunkGroupIdx][0]])
            charIdx += restTotalSpace[chunkGroupIdx][0]
            chunkCnt += 1
            if chunkCnt >= restTotalSpace[chunkGroupIdx][1]:
                chunkGroupIdx += 1
                chunkCnt = 0
        return list(map(lambda x: f"{x[1]}<{x[0] + 1}/{len(result)}>", enumerate(result)))


print(Solution().splitMessage("boxpn", 5))
print(Solution().splitMessage("anlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvj", 9))
print(Solution().splitMessage("anlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvj", 15))
print(Solution().splitMessage("anlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvjanlgjkwmnelvansdljkvsdnlkjankjdlcnlasjkcndkjabnvjdsbvabhksdvjkkbaskjcnksjacdsjkahbcjsdhvakhbsvhjabsjvhajsdbhvsjakvbhasbvj", 120))
